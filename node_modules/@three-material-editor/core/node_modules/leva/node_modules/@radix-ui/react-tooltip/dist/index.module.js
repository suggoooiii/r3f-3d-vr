import{useId as t}from"@radix-ui/react-id";import*as e from"@radix-ui/react-visually-hidden";import{Slottable as o}from"@radix-ui/react-slot";import{Portal as n}from"@radix-ui/react-portal";import*as r from"@radix-ui/react-popper";import{Primitive as i,extendPrimitive as a}from"@radix-ui/react-primitive";import{useRect as s}from"@radix-ui/react-use-rect";import{usePrevious as u}from"@radix-ui/react-use-previous";import{useLayoutEffect as c}from"@radix-ui/react-use-layout-effect";import{useControllableState as d}from"@radix-ui/react-use-controllable-state";import{createContext as l}from"@radix-ui/react-context";import{useComposedRefs as p}from"@radix-ui/react-compose-refs";import{composeEventHandlers as m}from"@radix-ui/primitive";import*as E from"react";let f,S;function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}const v=function(t,{debug:e=!1,warnOnUnknownTransitions:o=!1}={}){let n,r,i=t.initial,a=t.context;const s=[],u=(c,d)=>{const l=t.states[i],p=l.on&&l.on[c];if(void 0===p)o&&console.warn('From state: "'.concat(i,'", event "').concat(c,'" does not lead to any state'));else{n=i,r=a,l.onLeaveState&&l.onLeaveState(u);const o=t.states[p];o.onEnterState&&o.onEnterState(u),i=p,void 0!==d&&(a=d),e&&console.log({previousState:n,previousContext:r,event:c,state:i,context:a}),s.forEach((t=>t({state:i,previousState:n,context:a})))}};return{subscribe:function(t){return s.push(t),()=>{s.splice(s.indexOf(t),1)}},transition:u,getState:function(){return i},getContext:function(){return a}}}({initial:"CLOSED",context:{id:null},states:{CLOSED:{on:{mouseEntered:"WAITING_FOR_REST",focused:"OPEN"}},WAITING_FOR_REST:{onEnterState:function(t){clearTimeout(f),f=window.setTimeout((()=>t("restTimerElapsed")),300)},onLeaveState:function(){clearTimeout(f)},on:{restTimerElapsed:"OPEN",mouseMoved:"WAITING_FOR_REST",mouseLeft:"CLOSED",activated:"DISMISSED",unmounted:"CLOSED"}},OPEN:{on:{mouseLeft:"CHECKING_IF_SHOULD_SKIP_REST_THRESHOLD",mouseEntered:"OPEN",mouseMoved:"OPEN",activated:"DISMISSED",blurred:"CLOSED",triggerMoved:"CLOSED",unmounted:"CLOSED"}},CHECKING_IF_SHOULD_SKIP_REST_THRESHOLD:{onEnterState:function(t){clearTimeout(S),S=window.setTimeout((()=>t("skipRestTimerElapsed")),300)},onLeaveState:function(){clearTimeout(S)},on:{skipRestTimerElapsed:"CLOSED",mouseEntered:"OPEN",focused:"OPEN",activated:"DISMISSED",unmounted:"CLOSED"}},DISMISSED:{on:{mouseLeft:"CLOSED",blurred:"CLOSED",unmounted:"CLOSED"}}}}),[O,g]=l("Tooltip");export const Tooltip=e=>{const{children:o,open:n,defaultOpen:r=!1,onOpenChange:i}=e,a=E.useRef(null),s=t(),[u=!1,l]=d({prop:n,defaultProp:r,onChange:i}),[p,m]=E.useState(n?"instant-open":"closed");return E.useEffect((()=>v.subscribe((({state:t,context:e})=>{"OPEN"===t&&e.id===s?l(!0):l(!1)}))),[s,l]),E.useEffect((()=>v.subscribe((({state:t,previousState:e})=>{"OPEN"===t&&("WAITING_FOR_REST"===e&&m("delayed-open"),"CHECKING_IF_SHOULD_SKIP_REST_THRESHOLD"!==e&&"CLOSED"!==e||m("instant-open")),"CLOSED"===t&&m("closed")}))),[]),E.useEffect((()=>()=>{v.transition("unmounted",{id:s})}),[s]),c((()=>{!0===n&&v.transition("mouseEntered",{id:s})}),[s,n]),E.createElement(O,{triggerRef:a,contentId:s,open:u,stateAttribute:p},o)};Tooltip.displayName="Tooltip";const I="button";export const TooltipTrigger=E.forwardRef(((t,e)=>{const{as:o=I,...n}=t,r=g("TooltipTrigger"),a=p(e,r.triggerRef);return E.createElement(i,T({type:"button","aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},n,{as:o,ref:a,onMouseEnter:m(t.onMouseEnter,(()=>v.transition("mouseEntered",{id:r.contentId}))),onMouseMove:m(t.onMouseMove,(()=>v.transition("mouseMoved",{id:r.contentId}))),onMouseLeave:m(t.onMouseLeave,(()=>{v.getContext().id===r.contentId&&v.transition("mouseLeft",{id:r.contentId})})),onFocus:m(t.onFocus,(()=>v.transition("focused",{id:r.contentId}))),onBlur:m(t.onBlur,(()=>{v.getContext().id===r.contentId&&v.transition("blurred",{id:r.contentId})})),onMouseDown:m(t.onMouseDown,(()=>v.transition("activated",{id:r.contentId}))),onKeyDown:m(t.onKeyDown,(t=>{"Escape"!==t.key&&"Enter"!==t.key&&" "!==t.key||v.transition("activated",{id:r.contentId})}))}))}));TooltipTrigger.displayName="TooltipTrigger";export const TooltipContent=E.forwardRef(((t,e)=>g("TooltipContent").open?E.createElement(x,T({ref:e},t)):null));const x=E.forwardRef(((t,i)=>{const{children:a,"aria-label":s,anchorRef:u,portalled:c=!0,...d}=t,l=g("TooltipContent"),p=c?n:E.Fragment;return E.createElement(p,null,E.createElement(C,null),E.createElement(r.Root,T({"data-state":l.stateAttribute},d,{ref:i,anchorRef:u||l.triggerRef,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),E.createElement(o,null,a),E.createElement(e.Root,{id:l.contentId,role:"tooltip"},s||a)))}));TooltipContent.displayName="TooltipContent";export const TooltipArrow=a(r.Arrow,{displayName:"TooltipArrow"});function C(){const t=g("CheckTriggerMoved"),e=s(t.triggerRef),o=null==e?void 0:e.left,n=u(o),r=null==e?void 0:e.top,i=u(r);return E.useEffect((()=>{(void 0!==n&&n!==o||void 0!==i&&i!==r)&&v.transition("triggerMoved",{id:t.contentId})}),[t.contentId,n,i,o,r]),null}export const Root=Tooltip;export const Trigger=TooltipTrigger;export const Content=TooltipContent;export const Arrow=TooltipArrow;
//# sourceMappingURL=index.module.js.map
